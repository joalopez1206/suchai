# Test Int SGP4

This test compares the SUCHAI SGP4 propagator results with Python 
Skyfield SGP4 propagator (https://pypi.org/project/sgp4).

The program reads a reference data file (data.csv) and calculates R and V for each
timestamp in this file. The compare the the results.

If necessary, the reference data file is generated by running `python3 generate_data.py`
Please not that the TLE used in `generate_data.py` and in `src/system/taskTest.c` test 
must be the same.

## About the results

The main sources of errors is the TLE epoch calculated in the Python and C code. The
C code uses an integer (long) with milliseconds precision, while Python uses a floating 
point value (double). Therefore there is a difference in the argument passed to the
propagator: `tsince` in minutes (floating point) since epoch.

## Compile

To compile the test type:
> cmake -B build-test -DAPP=test_int_sgp4 -DTEST=1 && cmake --build build-test

the build-test folder can be replaced by any desired name.

## Run

To run the experiment type

> ./build-test/test/test_int_sgp4/suchai-test

the build-test folder must be the same as the one used to compile the test

## Expected results

All the Command result's numbers must be 1, otherwise the test will fail.

The expected console output is in the test_int_sgp4_log_base.txt file.
